# Frontend Architecture

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           REACT APPLICATION                              â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           Pages                                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚      UploadPage      â”‚    â”‚          ResultPage              â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  - ê³„ì•½ì„œ ì—…ë¡œë“œ UI   â”‚    â”‚  - ë¦¬ìŠ¤í¬ ëª©ë¡ (HIGH=ë¹¨ê°„ìƒ‰)     â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  - Drag & Drop       â”‚    â”‚  - í´ë¦­ ì‹œ ìƒì„¸ ì‚¬ìœ  í‘œì‹œ         â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                â”‚                               â”‚                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         Components                                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚FileUpload  â”‚ â”‚ RiskList   â”‚ â”‚ RiskCard   â”‚ â”‚  RiskDetail    â”‚   â”‚ â”‚
â”‚  â”‚  â”‚            â”‚ â”‚            â”‚ â”‚ (ìƒ‰ìƒí‘œì‹œ) â”‚ â”‚  Modal         â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           Hooks                                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚ â”‚
â”‚  â”‚  â”‚  useContractUpload  â”‚    â”‚     useRisks        â”‚                â”‚ â”‚
â”‚  â”‚  â”‚  - upload mutation  â”‚    â”‚  - fetch risks      â”‚                â”‚ â”‚
â”‚  â”‚  â”‚  - loading state    â”‚    â”‚  - fetch detail     â”‚                â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚               â”‚                          â”‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         API Layer                                   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚                      api/client.ts                           â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - uploadContract(file)                                      â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - getRisks(contractId)                                      â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - getRiskDetail(riskId)                                     â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      Backend REST API         â”‚
                    â”‚  POST /api/contracts          â”‚
                    â”‚  GET  /api/contracts/:id/risksâ”‚
                    â”‚  GET  /api/risks/:id          â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## User Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Upload     â”‚â”€â”€â”€â”€â–¶â”‚   Loading    â”‚â”€â”€â”€â”€â–¶â”‚  Risk List   â”‚â”€â”€â”€â”€â–¶â”‚   Detail     â”‚
â”‚   Page       â”‚     â”‚   Spinner    â”‚     â”‚  (ìƒ‰ìƒí‘œì‹œ)   â”‚     â”‚   Modal      â”‚
â”‚              â”‚     â”‚              â”‚     â”‚              â”‚     â”‚              â”‚
â”‚ [Drop Zone]  â”‚     â”‚ "ë¶„ì„ ì¤‘..." â”‚     â”‚ ğŸ”´ HIGH      â”‚     â”‚ "GDPR Art.5  â”‚
â”‚              â”‚     â”‚              â”‚     â”‚ ğŸŸ¡ MEDIUM    â”‚     â”‚  â€“ data      â”‚
â”‚              â”‚     â”‚              â”‚     â”‚ ğŸŸ¢ LOW       â”‚     â”‚  minimizationâ”‚
â”‚              â”‚     â”‚              â”‚     â”‚              â”‚     â”‚  violation"  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Project Structure

```
frontend/
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ index.html
â”‚
â””â”€â”€ src/
    â”œâ”€â”€ main.tsx                    # Entry point
    â”œâ”€â”€ App.tsx                     # Router setup
    â”‚
    â”œâ”€â”€ pages/
    â”‚   â”œâ”€â”€ UploadPage.tsx          # ê³„ì•½ì„œ ì—…ë¡œë“œ í™”ë©´
    â”‚   â””â”€â”€ ResultPage.tsx          # ë¦¬ìŠ¤í¬ ê²°ê³¼ í™”ë©´
    â”‚
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ FileUpload.tsx          # Drag & Drop ì—…ë¡œë“œ
    â”‚   â”œâ”€â”€ RiskList.tsx            # ë¦¬ìŠ¤í¬ ëª©ë¡
    â”‚   â”œâ”€â”€ RiskCard.tsx            # ê°œë³„ ë¦¬ìŠ¤í¬ (ìƒ‰ìƒ í‘œì‹œ)
    â”‚   â””â”€â”€ RiskDetailModal.tsx     # ìƒì„¸ ì‚¬ìœ  ëª¨ë‹¬
    â”‚
    â”œâ”€â”€ hooks/
    â”‚   â”œâ”€â”€ useContractUpload.ts    # ì—…ë¡œë“œ mutation
    â”‚   â””â”€â”€ useRisks.ts             # ë¦¬ìŠ¤í¬ ì¡°íšŒ
    â”‚
    â”œâ”€â”€ api/
    â”‚   â””â”€â”€ client.ts               # API í˜¸ì¶œ í•¨ìˆ˜
    â”‚
    â”œâ”€â”€ types/
    â”‚   â””â”€â”€ index.ts                # TypeScript íƒ€ì… ì •ì˜
    â”‚
    â””â”€â”€ styles/
        â””â”€â”€ global.css              # ì „ì—­ ìŠ¤íƒ€ì¼
```

## Component Tree

```
<App>
â”œâ”€â”€ <Router>
â”‚   â”œâ”€â”€ Route "/" â†’ <UploadPage>
â”‚   â”‚                 â””â”€â”€ <FileUpload>
â”‚   â”‚
â”‚   â””â”€â”€ Route "/result/:id" â†’ <ResultPage>
â”‚                               â”œâ”€â”€ <RiskList>
â”‚                               â”‚     â””â”€â”€ <RiskCard> Ã— N
â”‚                               â”‚           â””â”€â”€ onClick â†’ open modal
â”‚                               â”‚
â”‚                               â””â”€â”€ <RiskDetailModal>
â”‚                                     â””â”€â”€ "GDPR Article 5 â€“ ..."
```

## Types

```typescript
// types/index.ts

interface Contract {
  id: number;
  filename: string;
  message: string;
}

interface Risk {
  id: number;
  clause: string;
  level: 'HIGH' | 'MEDIUM' | 'LOW';
}

interface RiskDetail extends Risk {
  reason: string;  // "GDPR Article 5 â€“ data minimization violation"
}
```

## API Functions

```typescript
// api/client.ts

const API_BASE = 'http://localhost:8080/api';

// ê³„ì•½ì„œ ì—…ë¡œë“œ
uploadContract(file: File): Promise<Contract>
POST /api/contracts (multipart/form-data)

// ë¦¬ìŠ¤í¬ ëª©ë¡ ì¡°íšŒ
getRisks(contractId: number): Promise<Risk[]>
GET /api/contracts/:id/risks

// ë¦¬ìŠ¤í¬ ìƒì„¸ ì¡°íšŒ
getRiskDetail(riskId: number): Promise<RiskDetail>
GET /api/risks/:id
```

## Risk Level Colors

```typescript
const RISK_COLORS = {
  HIGH:   '#EF4444',  // ë¹¨ê°„ìƒ‰ (red-500)
  MEDIUM: '#F59E0B',  // ë…¸ë€ìƒ‰ (amber-500)
  LOW:    '#10B981',  // ì´ˆë¡ìƒ‰ (emerald-500)
};
```

## Key Interactions

### 1. File Upload
```
User drops file â†’ FileUpload.onChange
                â†’ useContractUpload.mutate(file)
                â†’ POST /api/contracts
                â†’ navigate(`/result/${contract.id}`)
```

### 2. View Risk List
```
ResultPage mounts â†’ useRisks(contractId)
                  â†’ GET /api/contracts/:id/risks
                  â†’ render RiskCard for each risk
                  â†’ HIGH risk = red border/background
```

### 3. View Risk Detail
```
User clicks RiskCard â†’ setSelectedRiskId(id)
                     â†’ GET /api/risks/:id
                     â†’ show RiskDetailModal
                     â†’ display: "GDPR Article 5 â€“ ..."
```

## Technology Stack

| Component | Technology | Purpose |
|-----------|------------|---------|
| Framework | React 18 | UI Library |
| Language | TypeScript | Type Safety |
| Build Tool | Vite | Fast Dev Server |
| Routing | React Router v6 | SPA Navigation |
| State | React Query | Server State |
| Styling | Tailwind CSS | Utility-first CSS |
| HTTP | Fetch API | API Calls |

## State Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  React Query                         â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Query Cache     â”‚    â”‚ Mutation State          â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚                         â”‚ â”‚
â”‚  â”‚ ['risks', id]   â”‚    â”‚ uploadContract          â”‚ â”‚
â”‚  â”‚ ['risk', id]    â”‚    â”‚ - isLoading             â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚ - isError               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Local State                         â”‚
â”‚                                                      â”‚
â”‚  ResultPage:                                         â”‚
â”‚  - selectedRiskId: number | null (ëª¨ë‹¬ ì—´ê¸°ìš©)       â”‚
â”‚                                                      â”‚
â”‚  FileUpload:                                         â”‚
â”‚  - isDragging: boolean (ë“œë˜ê·¸ UIìš©)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Folder Dependencies

```
pages/
  â””â”€â”€ imports â†’ components/, hooks/

components/
  â””â”€â”€ imports â†’ types/

hooks/
  â””â”€â”€ imports â†’ api/, types/

api/
  â””â”€â”€ imports â†’ types/

types/
  â””â”€â”€ (no dependencies)
```
